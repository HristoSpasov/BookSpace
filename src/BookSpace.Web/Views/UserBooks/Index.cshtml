<div class="user-books-wrapper">
    <div class="user-books-description">
        <p>
            Here you can keep track of your personal bookshelves.<br/>
            Keep exploring and tell us which are your favourite books!
        </p>
    </div>

    <nav class="user-vertical-nav">
        <ul class="user-collections">
            <li><button id="favourite" class="user-collections-btn">Want to read</button></li>
            <li><button id="reading" class="user-collections-btn">Currently reading</button></li>
            <li><button id="read" class="user-collections-btn">Read</button></li>
        </ul>
    </nav>
    <div id="renderPartial" style="display:none"></div>
</div>

<script>
    const renderSection = $('#renderPartial');

    $('#read').on('click', readBooks);
    $('#reading').on('click', readingBooks);
    $('#favourite').on('click', favouriteBooks);

    function readBooks(e) {
        $(".user-collections-btn.current").removeClass("current");
        $.ajax({
            type: "POST",
            url: "/UserBooks/_UserBooksPartialListAsync",
            data: { statusEnum: 'Read' },
            success: (htmlData) => {
                renderSection.html(htmlData).fadeIn();
            },
            error: (response) => {
                displayError('Error loading content');
            }
        })

        $(this).addClass("current");
    }

    function readingBooks(e) {
        $(".user-collections-btn.current").removeClass("current");
        $.ajax({
            type: "POST",
            url: "/UserBooks/_UserBooksPartialListAsync",
            data: { statusEnum: 'ToRead' },
            success: (htmlData) => {
                renderSection.html(htmlData).fadeIn();
            },
            error: (response) => {
                displayError('Error loading content');
            }
        })
        $(this).addClass("current");
    }

    function favouriteBooks() {
        $(".user-collections-btn.current").removeClass("current");
        $.ajax({
            type: "POST",
            url: "/UserBooks/_UserBooksPartialListAsync",
            data: { statusEnum: 'Favourite' },
            success: (htmlData) => {
                renderSection.html(htmlData).fadeIn();
            },
            error: (response) => {
                displayError('Error loading content');
            }
        })
        $(this).addClass("current");
    }

    (() => readingBooks())(); // Default is reading books
</script>